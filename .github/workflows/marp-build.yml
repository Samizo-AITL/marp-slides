- name: Build HTML slides
  shell: bash
  run: |
    set -e
    shopt -s nullglob
    files=(slides/**/*.md)
    if [ ${#files[@]} -eq 0 ]; then
      echo "No slides found. Skip build."
      exit 0
    fi

    mkdir -p dist
    for file in "${files[@]}"; do
      echo "Build $file"
      marp "$file" \
        --html \
        --theme themes/jp-pptx.css \        # ← 追加（白背景・絵文字対応）
        --allow-local-files \               # ← 追加（CI 安定化）
        -o "dist/$(basename "$file" .md).html"
    done
